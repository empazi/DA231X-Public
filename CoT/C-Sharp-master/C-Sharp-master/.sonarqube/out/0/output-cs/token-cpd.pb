˛H
fC:\programmering\mex\DA231X\CoT\C-Sharp-master\C-Sharp-master\Utilities\Extensions\VectorExtensions.cs
	namespace 	
	Utilities
 
. 

Extensions 
; 
public 
static 
class 
VectorExtensions $
{ 
public 

static 
double 
[ 
] 
Copy 
(  
this  $
double% +
[+ ,
], -
vector. 4
)4 5
{ 
var 
result 
= 
new 
double 
[  
vector  &
.& '
Length' -
]- .
;. /
for 
( 
var 
i 
= 
$num 
; 
i 
< 
vector "
." #
Length# )
;) *
i+ ,
++, .
). /
{ 	
result 
[ 
i 
] 
= 
vector 
[ 
i  
]  !
;! "
} 	
return 
result 
; 
} 
public 

static 
double 
[ 
, 
] 
OuterProduct (
(( )
this) -
double. 4
[4 5
]5 6
lhs7 :
,: ;
double< B
[B C
]C D
rhsE H
)H I
{ 
var 
result 
= 
new 
double 
[  
lhs  #
.# $
Length$ *
,* +
rhs, /
./ 0
Length0 6
]6 7
;7 8
for   
(   
var   
i   
=   
$num   
;   
i   
<   
lhs   
.    
Length    &
;  & '
i  ( )
++  ) +
)  + ,
{!! 	
for"" 
("" 
var"" 
j"" 
="" 
$num"" 
;"" 
j"" 
<"" 
rhs""  #
.""# $
Length""$ *
;""* +
j"", -
++""- /
)""/ 0
{## 
result$$ 
[$$ 
i$$ 
,$$ 
j$$ 
]$$ 
=$$ 
lhs$$ "
[$$" #
i$$# $
]$$$ %
*$$& '
rhs$$( +
[$$+ ,
j$$, -
]$$- .
;$$. /
}%% 
}&& 	
return(( 
result(( 
;(( 
})) 
public22 

static22 
double22 
Dot22 
(22 
this22 !
double22" (
[22( )
]22) *
lhs22+ .
,22. /
double220 6
[226 7
]227 8
rhs229 <
)22< =
{33 
if44 

(44 
lhs44 
.44 
Length44 
!=44 
rhs44 
.44 
Length44 $
)44$ %
{55 	
throw66 
new66 
ArgumentException66 '
(66' (
$str66( X
)66X Y
;66Y Z
}77 	
double99 
result99 
=99 
$num99 
;99 
for:: 
(:: 
var:: 
i:: 
=:: 
$num:: 
;:: 
i:: 
<:: 
lhs:: 
.::  
Length::  &
;::& '
i::( )
++::) +
)::+ ,
{;; 	
result<< 
+=<< 
lhs<< 
[<< 
i<< 
]<< 
*<< 
rhs<< "
[<<" #
i<<# $
]<<$ %
;<<% &
}== 	
return?? 
result?? 
;?? 
}@@ 
publicGG 

staticGG 
doubleGG 
	MagnitudeGG "
(GG" #
thisGG# '
doubleGG( .
[GG. /
]GG/ 0
vectorGG1 7
)GG7 8
{HH 
varII 
	magnitudeII 
=II 
DotII 
(II 
vectorII "
,II" #
vectorII$ *
)II* +
;II+ ,
	magnitudeJJ 
=JJ 
MathJJ 
.JJ 
SqrtJJ 
(JJ 
	magnitudeJJ '
)JJ' (
;JJ( )
returnKK 
	magnitudeKK 
;KK 
}LL 
publicTT 

staticTT 
doubleTT 
[TT 
]TT 
ScaleTT  
(TT  !
thisTT! %
doubleTT& ,
[TT, -
]TT- .
vectorTT/ 5
,TT5 6
doubleTT7 =
factorTT> D
)TTD E
{UU 
varVV 
resultVV 
=VV 
newVV 
doubleVV 
[VV  
vectorVV  &
.VV& '
LengthVV' -
]VV- .
;VV. /
forWW 
(WW 
varWW 
iWW 
=WW 
$numWW 
;WW 
iWW 
<WW 
vectorWW "
.WW" #
LengthWW# )
;WW) *
iWW+ ,
++WW, .
)WW. /
{XX 	
resultYY 
[YY 
iYY 
]YY 
=YY 
vectorYY 
[YY 
iYY  
]YY  !
*YY" #
factorYY$ *
;YY* +
}ZZ 	
return\\ 
result\\ 
;\\ 
}]] 
publicdd 

staticdd 
doubledd 
[dd 
,dd 
]dd 
ToColumnVectordd *
(dd* +
thisdd+ /
doubledd0 6
[dd6 7
]dd7 8
sourcedd9 ?
)dd? @
{ee 
varff 
columnVectorff 
=ff 
newff 
doubleff %
[ff% &
sourceff& ,
.ff, -
Lengthff- 3
,ff3 4
$numff5 6
]ff6 7
;ff7 8
forhh 
(hh 
varhh 
ihh 
=hh 
$numhh 
;hh 
ihh 
<hh 
sourcehh "
.hh" #
Lengthhh# )
;hh) *
ihh+ ,
++hh, .
)hh. /
{ii 	
columnVectorjj 
[jj 
ijj 
,jj 
$numjj 
]jj 
=jj  
sourcejj! '
[jj' (
ijj( )
]jj) *
;jj* +
}kk 	
returnmm 
columnVectormm 
;mm 
}nn 
publicvv 

staticvv 
doublevv 
[vv 
]vv 
ToRowVectorvv &
(vv& '
thisvv' +
doublevv, 2
[vv2 3
,vv3 4
]vv4 5
sourcevv6 <
)vv< =
{ww 
ifxx 

(xx 
sourcexx 
.xx 
	GetLengthxx 
(xx 
$numxx 
)xx 
!=xx  "
$numxx# $
)xx$ %
{yy 	
throwzz 
newzz %
InvalidOperationExceptionzz /
(zz/ 0
$strzz0 h
)zzh i
;zzi j
}{{ 	
var}} 
	rowVector}} 
=}} 
new}} 
double}} "
[}}" #
source}}# )
.}}) *
Length}}* 0
]}}0 1
;}}1 2
for 
( 
var 
i 
= 
$num 
; 
i 
< 
	rowVector %
.% &
Length& ,
;, -
i. /
++/ 1
)1 2
{
ÄÄ 	
	rowVector
ÅÅ 
[
ÅÅ 
i
ÅÅ 
]
ÅÅ 
=
ÅÅ 
source
ÅÅ !
[
ÅÅ! "
i
ÅÅ" #
,
ÅÅ# $
$num
ÅÅ% &
]
ÅÅ& '
;
ÅÅ' (
}
ÇÇ 	
return
ÑÑ 
	rowVector
ÑÑ 
;
ÑÑ 
}
ÖÖ 
public
åå 

static
åå 
double
åå 
[
åå 
,
åå 
]
åå 
ToDiagonalMatrix
åå ,
(
åå, -
this
åå- 1
double
åå2 8
[
åå8 9
]
åå9 :
vector
åå; A
)
ååA B
{
çç 
var
éé 
len
éé 
=
éé 
vector
éé 
.
éé 
Length
éé 
;
éé  
var
èè 
result
èè 
=
èè 
new
èè 
double
èè 
[
èè  
len
èè  #
,
èè# $
len
èè% (
]
èè( )
;
èè) *
for
ëë 
(
ëë 
var
ëë 
i
ëë 
=
ëë 
$num
ëë 
;
ëë 
i
ëë 
<
ëë 
len
ëë 
;
ëë  
i
ëë! "
++
ëë" $
)
ëë$ %
{
íí 	
result
ìì 
[
ìì 
i
ìì 
,
ìì 
i
ìì 
]
ìì 
=
ìì 
vector
ìì !
[
ìì! "
i
ìì" #
]
ìì# $
;
ìì$ %
}
îî 	
return
ññ 
result
ññ 
;
ññ 
}
óó 
}òò º
fC:\programmering\mex\DA231X\CoT\C-Sharp-master\C-Sharp-master\Utilities\Extensions\RandomExtensions.cs
	namespace 	
	Utilities
 
. 

Extensions 
; 
public 
static 
class 
RandomExtensions $
{ 
public 

static 
double 
[ 
] 

NextVector %
(% &
this& *
Random+ 1
rand2 6
,6 7
int8 ;
size< @
)@ A
{ 
var 
vector 
= 

Enumerable 
.  
Range  %
(% &
$num& '
,' (
size) -
)- .
. 
Select 
( 
_ 
=> 
rand 
. 

NextDouble (
(( )
)) *
)* +
.+ ,
ToArray, 3
(3 4
)4 5
;5 6
var 
norm 
= 
vector 
. 
	Magnitude #
(# $
)$ %
;% &
return 
vector 
. 
Select 
( 
x 
=> !
x" #
/$ %
norm& *
)* +
.+ ,
ToArray, 3
(3 4
)4 5
;5 6
} 
} ◊
kC:\programmering\mex\DA231X\CoT\C-Sharp-master\C-Sharp-master\Utilities\Exceptions\ItemNotFoundException.cs
	namespace 	
	Utilities
 
. 

Exceptions 
; 
public 
class !
ItemNotFoundException "
:# $
	Exception% .
{		 
}

 öw
fC:\programmering\mex\DA231X\CoT\C-Sharp-master\C-Sharp-master\Utilities\Extensions\MatrixExtensions.cs
	namespace 	
	Utilities
 
. 

Extensions 
; 
public 
static 
class 
MatrixExtensions $
{ 
public 

static 
double 
[ 
, 
] 
Multiply $
($ %
this% )
double* 0
[0 1
,1 2
]2 3
source4 :
,: ;
double< B
[B C
,C D
]D E
operandF M
)M N
{ 
if 

( 
source 
. 
	GetLength 
( 
$num 
) 
!=  "
operand# *
.* +
	GetLength+ 4
(4 5
$num5 6
)6 7
)7 8
{ 	
throw 
new %
InvalidOperationException /
(/ 0
$str S
)S T
;T U
} 	
var 
result 
= 
new 
double 
[  
source  &
.& '
	GetLength' 0
(0 1
$num1 2
)2 3
,3 4
operand5 <
.< =
	GetLength= F
(F G
$numG H
)H I
]I J
;J K
for 
( 
var 
i 
= 
$num 
; 
i 
< 
result "
." #
	GetLength# ,
(, -
$num- .
). /
;/ 0
i1 2
++2 4
)4 5
{ 	
for 
( 
var 
j 
= 
$num 
; 
j 
< 
result  &
.& '
	GetLength' 0
(0 1
$num1 2
)2 3
;3 4
j5 6
++6 8
)8 9
{ 
double 
elementProduct %
=& '
$num( )
;) *
for 
( 
var 
k 
= 
$num 
; 
k  !
<" #
source$ *
.* +
	GetLength+ 4
(4 5
$num5 6
)6 7
;7 8
k9 :
++: <
)< =
{ 
elementProduct   "
+=  # %
source  & ,
[  , -
i  - .
,  . /
k  0 1
]  1 2
*  3 4
operand  5 <
[  < =
k  = >
,  > ?
j  @ A
]  A B
;  B C
}!! 
result## 
[## 
i## 
,## 
j## 
]## 
=## 
elementProduct## -
;##- .
}$$ 
}%% 	
return'' 
result'' 
;'' 
}(( 
public// 

static// 
double// 
[// 
,// 
]// 
Copy//  
(//  !
this//! %
double//& ,
[//, -
,//- .
]//. /
matrix//0 6
)//6 7
{00 
var11 
result11 
=11 
new11 
double11 
[11  
matrix11  &
.11& '
	GetLength11' 0
(110 1
$num111 2
)112 3
,113 4
matrix115 ;
.11; <
	GetLength11< E
(11E F
$num11F G
)11G H
]11H I
;11I J
for22 
(22 
var22 
i22 
=22 
$num22 
;22 
i22 
<22 
matrix22 "
.22" #
	GetLength22# ,
(22, -
$num22- .
)22. /
;22/ 0
i221 2
++222 4
)224 5
{33 	
for44 
(44 
var44 
j44 
=44 
$num44 
;44 
j44 
<44 
matrix44  &
.44& '
	GetLength44' 0
(440 1
$num441 2
)442 3
;443 4
j445 6
++446 8
)448 9
{55 
result66 
[66 
i66 
,66 
j66 
]66 
=66 
matrix66 %
[66% &
i66& '
,66' (
j66) *
]66* +
;66+ ,
}77 
}88 	
return:: 
result:: 
;:: 
};; 
publicBB 

staticBB 
doubleBB 
[BB 
,BB 
]BB 
	TransposeBB %
(BB% &
thisBB& *
doubleBB+ 1
[BB1 2
,BB2 3
]BB3 4
matrixBB5 ;
)BB; <
{CC 
varDD 
resultDD 
=DD 
newDD 
doubleDD 
[DD  
matrixDD  &
.DD& '
	GetLengthDD' 0
(DD0 1
$numDD1 2
)DD2 3
,DD3 4
matrixDD5 ;
.DD; <
	GetLengthDD< E
(DDE F
$numDDF G
)DDG H
]DDH I
;DDI J
forEE 
(EE 
varEE 
iEE 
=EE 
$numEE 
;EE 
iEE 
<EE 
matrixEE "
.EE" #
	GetLengthEE# ,
(EE, -
$numEE- .
)EE. /
;EE/ 0
iEE1 2
++EE2 4
)EE4 5
{FF 	
forGG 
(GG 
varGG 
jGG 
=GG 
$numGG 
;GG 
jGG 
<GG 
matrixGG  &
.GG& '
	GetLengthGG' 0
(GG0 1
$numGG1 2
)GG2 3
;GG3 4
jGG5 6
++GG6 8
)GG8 9
{HH 
resultII 
[II 
jII 
,II 
iII 
]II 
=II 
matrixII %
[II% &
iII& '
,II' (
jII) *
]II* +
;II+ ,
}JJ 
}KK 	
returnMM 
resultMM 
;MM 
}NN 
publicWW 

staticWW 
doubleWW 
[WW 
]WW 
MultiplyVectorWW )
(WW) *
thisWW* .
doubleWW/ 5
[WW5 6
,WW6 7
]WW7 8
matrixWW9 ?
,WW? @
doubleWWA G
[WWG H
]WWH I
vectorWWJ P
)WWP Q
{XX 
varYY 
vectorReshapedYY 
=YY 
newYY  
doubleYY! '
[YY' (
vectorYY( .
.YY. /
LengthYY/ 5
,YY5 6
$numYY7 8
]YY8 9
;YY9 :
forZZ 
(ZZ 
varZZ 
iZZ 
=ZZ 
$numZZ 
;ZZ 
iZZ 
<ZZ 
vectorZZ "
.ZZ" #
LengthZZ# )
;ZZ) *
iZZ+ ,
++ZZ, .
)ZZ. /
{[[ 	
vectorReshaped\\ 
[\\ 
i\\ 
,\\ 
$num\\ 
]\\  
=\\! "
vector\\# )
[\\) *
i\\* +
]\\+ ,
;\\, -
}]] 	
var__ 
resultMatrix__ 
=__ 
matrix__ !
.__! "
Multiply__" *
(__* +
vectorReshaped__+ 9
)__9 :
;__: ;
var`` 
result`` 
=`` 
new`` 
double`` 
[``  
resultMatrix``  ,
.``, -
	GetLength``- 6
(``6 7
$num``7 8
)``8 9
]``9 :
;``: ;
foraa 
(aa 
varaa 
iaa 
=aa 
$numaa 
;aa 
iaa 
<aa 
resultaa "
.aa" #
Lengthaa# )
;aa) *
iaa+ ,
++aa, .
)aa. /
{bb 	
resultcc 
[cc 
icc 
]cc 
=cc 
resultMatrixcc $
[cc$ %
icc% &
,cc& '
$numcc( )
]cc) *
;cc* +
}dd 	
returnff 
resultff 
;ff 
}gg 
publicpp 

staticpp 
doublepp 
[pp 
,pp 
]pp 
Subtractpp $
(pp$ %
thispp% )
doublepp* 0
[pp0 1
,pp1 2
]pp2 3
lhspp4 7
,pp7 8
doublepp9 ?
[pp? @
,pp@ A
]ppA B
rhsppC F
)ppF G
{qq 
ifrr 

(rr 
lhsrr 
.rr 
	GetLengthrr 
(rr 
$numrr 
)rr 
!=rr 
rhsrr  #
.rr# $
	GetLengthrr$ -
(rr- .
$numrr. /
)rr/ 0
||rr1 3
lhsss 
.ss 
	GetLengthss 
(ss 
$numss 
)ss 
!=ss 
rhsss  #
.ss# $
	GetLengthss$ -
(ss- .
$numss. /
)ss/ 0
)ss0 1
{tt 	
throwuu 
newuu 
ArgumentExceptionuu '
(uu' (
$struu( Q
)uuQ R
;uuR S
}vv 	
varxx 
resultxx 
=xx 
newxx 
doublexx 
[xx  
lhsxx  #
.xx# $
	GetLengthxx$ -
(xx- .
$numxx. /
)xx/ 0
,xx0 1
lhsxx2 5
.xx5 6
	GetLengthxx6 ?
(xx? @
$numxx@ A
)xxA B
]xxB C
;xxC D
foryy 
(yy 
varyy 
iyy 
=yy 
$numyy 
;yy 
iyy 
<yy 
lhsyy 
.yy  
	GetLengthyy  )
(yy) *
$numyy* +
)yy+ ,
;yy, -
iyy. /
++yy/ 1
)yy1 2
{zz 	
for{{ 
({{ 
var{{ 
j{{ 
={{ 
$num{{ 
;{{ 
j{{ 
<{{ 
lhs{{  #
.{{# $
	GetLength{{$ -
({{- .
$num{{. /
){{/ 0
;{{0 1
j{{2 3
++{{3 5
){{5 6
{|| 
result}} 
[}} 
i}} 
,}} 
j}} 
]}} 
=}} 
lhs}} "
[}}" #
i}}# $
,}}$ %
j}}& '
]}}' (
-}}) *
rhs}}+ .
[}}. /
i}}/ 0
,}}0 1
j}}2 3
]}}3 4
;}}4 5
}~~ 
} 	
return
ÅÅ 
result
ÅÅ 
;
ÅÅ 
}
ÇÇ 
public
ää 

static
ää 
bool
ää 
IsEqual
ää 
(
ää 
this
ää #
double
ää$ *
[
ää* +
,
ää+ ,
]
ää, -
source
ää. 4
,
ää4 5
double
ää6 <
[
ää< =
,
ää= >
]
ää> ?
operand
ää@ G
)
ääG H
{
ãã 
if
åå 

(
åå 
source
åå 
.
åå 
Length
åå 
!=
åå 
operand
åå $
.
åå$ %
Length
åå% +
||
åå, .
source
çç 
.
çç 
	GetLength
çç 
(
çç 
$num
çç 
)
çç 
!=
çç  "
operand
çç# *
.
çç* +
	GetLength
çç+ 4
(
çç4 5
$num
çç5 6
)
çç6 7
||
çç8 :
source
éé 
.
éé 
	GetLength
éé 
(
éé 
$num
éé 
)
éé 
!=
éé  "
operand
éé# *
.
éé* +
	GetLength
éé+ 4
(
éé4 5
$num
éé5 6
)
éé6 7
)
éé7 8
{
èè 	
return
êê 
false
êê 
;
êê 
}
ëë 	
for
ìì 
(
ìì 
var
ìì 
i
ìì 
=
ìì 
$num
ìì 
;
ìì 
i
ìì 
<
ìì 
source
ìì "
.
ìì" #
	GetLength
ìì# ,
(
ìì, -
$num
ìì- .
)
ìì. /
;
ìì/ 0
i
ìì1 2
++
ìì2 4
)
ìì4 5
{
îî 	
for
ïï 
(
ïï 
var
ïï 
j
ïï 
=
ïï 
$num
ïï 
;
ïï 
j
ïï 
<
ïï 
source
ïï  &
.
ïï& '
	GetLength
ïï' 0
(
ïï0 1
$num
ïï1 2
)
ïï2 3
;
ïï3 4
j
ïï5 6
++
ïï6 8
)
ïï8 9
{
ññ 
if
óó 
(
óó 
Math
óó 
.
óó 
Abs
óó 
(
óó 
source
óó #
[
óó# $
i
óó$ %
,
óó% &
j
óó' (
]
óó( )
-
óó* +
operand
óó, 3
[
óó3 4
i
óó4 5
,
óó5 6
j
óó7 8
]
óó8 9
)
óó9 :
>=
óó; =
$num
óó> D
)
óóD E
{
òò 
return
ôô 
false
ôô  
;
ôô  !
}
öö 
}
õõ 
}
úú 	
return
ûû 
true
ûû 
;
ûû 
}
üü 
public
¶¶ 

static
¶¶ 
double
¶¶ 
[
¶¶ 
,
¶¶ 
]
¶¶ 
RoundToNextInt
¶¶ *
(
¶¶* +
this
¶¶+ /
double
¶¶0 6
[
¶¶6 7
,
¶¶7 8
]
¶¶8 9
source
¶¶: @
)
¶¶@ A
{
ßß 
var
®® 
rows
®® 
=
®® 
source
®® 
.
®® 
	GetLength
®® #
(
®®# $
$num
®®$ %
)
®®% &
;
®®& '
var
©© 
cols
©© 
=
©© 
source
©© 
.
©© 
	GetLength
©© #
(
©©# $
$num
©©$ %
)
©©% &
;
©©& '
var
´´ 
result
´´ 
=
´´ 
new
´´ 
double
´´ 
[
´´  
rows
´´  $
,
´´$ %
cols
´´& *
]
´´* +
;
´´+ ,
for
≠≠ 
(
≠≠ 
var
≠≠ 
i
≠≠ 
=
≠≠ 
$num
≠≠ 
;
≠≠ 
i
≠≠ 
<
≠≠ 
rows
≠≠  
;
≠≠  !
i
≠≠" #
++
≠≠# %
)
≠≠% &
{
ÆÆ 	
for
ØØ 
(
ØØ 
var
ØØ 
j
ØØ 
=
ØØ 
$num
ØØ 
;
ØØ 
j
ØØ 
<
ØØ 
cols
ØØ  $
;
ØØ$ %
j
ØØ& '
++
ØØ' )
)
ØØ) *
{
∞∞ 
result
±± 
[
±± 
i
±± 
,
±± 
j
±± 
]
±± 
=
±± 
Math
±± #
.
±±# $
Round
±±$ )
(
±±) *
source
±±* 0
[
±±0 1
i
±±1 2
,
±±2 3
j
±±4 5
]
±±5 6
)
±±6 7
;
±±7 8
}
≤≤ 
}
≥≥ 	
return
µµ 
result
µµ 
;
µµ 
}
∂∂ 
}∑∑ ª

jC:\programmering\mex\DA231X\CoT\C-Sharp-master\C-Sharp-master\Utilities\Extensions\DictionaryExtensions.cs
	namespace 	
	Utilities
 
. 

Extensions 
; 
public 
static 
class  
DictionaryExtensions (
{ 
public 

static 
void 
AddMany 
< 
TKey #
,# $
TValue% +
>+ ,
(, -
this 

Dictionary 
< 
TKey 
, 
TValue $
>$ %
keys& *
,* +
IEnumerable 
< 
( 
TKey 
Key 
, 
TValue %
Value& +
)+ ,
>, -

enumerable. 8
)8 9
where: ?
TKey@ D
:E F
notnullG N
{ 
foreach 
( 
var 
( 
key 
, 
value  
)  !
in" $

enumerable% /
)/ 0
{ 	
keys 
. 
Add 
( 
key 
, 
value 
)  
;  !
} 	
} 
} 